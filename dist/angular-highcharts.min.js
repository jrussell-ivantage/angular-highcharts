angular.module("hc",[]),angular.module("hc").directive("hcChart",function(){"use strict";return{restrict:"EA",scope:{config:"=hcChart",chart:"=chart",colors:"=colors",credits:"=credits",exporting:"=exporting",labels:"=labels",loading:"=loading",legend:"=legend",navigation:"=navigation",pane:"=pane",plotOptions:"=plotOptions",series:"=series",subtitle:"=subtitle",title:"=title",tooltip:"=tooltip",xAxis:"=xAxis",yAxis:"=yAxis",chartBackgroundColor:"=chartBackgroundColor",seriesData:"=seriesData",seriesName:"=seriesName",seriesType:"=seriesType",subtitleText:"=subtitleText",titleText:"=titleText",tooltipFormatter:"=tooltipFormatter"},template:['<div class="hc-chart">','<span class="hc-chart-loading"></span>',"</div>"].join(""),link:function(a,b){a.config&&(a.config.chart=a.config.chart||{},a.config.chart.renderTo=b[0]),a.chart&&(a.chart.renderTo=b[0]);var c=new Highcharts.Chart(a.config||{chart:a.chart||{renderTo:b[0],backgroundColor:a.chartBackgroundColor||"transparent"},credits:a.credits||{enabled:!1},plotOptions:a.plotOptions||{pie:{allowPointSelect:!0,cursor:"pointer",dataLabels:{enabled:!0,color:"#000000",connectorColor:"#000000",formatter:function(){return"<b>"+this.point.name+"</b>: "+Math.round(this.percentage)+" %"}}}},series:a.series||[{type:a.seriesType||"pie",name:a.seriesName||null,data:a.seriesData||[]}],subtitle:a.subtitle||{text:a.subtitleText||null},title:a.title||{text:a.titleText||null},tooltip:a.tooltip||{formatter:a.tooltipFormatter||null}});a.$watch("config",function(a){a&&(c.destroy(),c=new Highcharts.Chart(a))}),a.$watch("chart",function(a){a&&(c.chart=a,c.redraw())}),a.$watch("colors",function(a){a&&(c.colors=a,c.redraw())}),a.$watch("credits",function(a){a&&(c.credits=a,c.redraw())}),a.$watch("exporting",function(a){a&&(c.exporting=a,c.redraw())}),a.$watch("labels",function(a){a&&(c.labels=a,c.redraw())}),a.$watch("loading",function(a){a&&(c.loading=a,c.redraw())}),a.$watch("legend",function(a){a&&(c.legend=a,c.redraw())}),a.$watch("navigation",function(a){a&&(c.navigation=a,c.redraw())}),a.$watch("pane",function(a){a&&(c.pane=a,c.redraw())}),a.$watch("plotOptions",function(a){a&&(c.plotOptions=a,c.redraw())}),a.$watch("series",function(a){a&&(c.series=a,c.redraw())}),a.$watch("subtitle",function(a){a&&(c.subtitle=a,c.redraw())}),a.$watch("title",function(a){a&&(c.title=a,c.redraw())}),a.$watch("xAxis",function(a){a&&(c.xAxis=a,c.redraw())}),a.$watch("xAxis",function(a){a&&(c.xAxis=a,c.redraw())}),a.$watch("yAxis",function(a){a&&(c.yAxis=a,c.redraw())}),a.$watch("chartBackgroundColor",function(a){a&&(c.backgroundColor=a,c.redraw())}),a.$watch("seriesData",function(a){a&&c.series[0].setData(a)},!0),a.$watch("seriesName",function(a){a&&c.series[0].update("name",a)}),a.$watch("seriesType",function(a){a&&c.series[0].update("type",a)}),a.$watch("subtitleText",function(a){a&&c.setTitle({text:(c.title||{}).text||""},{text:a})}),a.$watch("titleText",function(a){a&&c.setTitle({text:a},{text:(c.subtitle||{}).text||""})}),a.$watch("tooltipFormatter",function(a){a&&(c.tooltipFormatter=a,c.redraw())})}}});